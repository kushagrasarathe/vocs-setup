import{u as n,j as e}from"./index-18w1D-AA.js";const a={title:"Contract interfaces and Traits generation",description:"undefined"};function s(t){const i={a:"a",blockquote:"blockquote",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...n(),...t.components};return e.jsxs(e.Fragment,{children:[e.jsx(i.header,{children:e.jsxs(i.h1,{id:"contract-interfaces-and-traits-generation",children:["Contract interfaces and Traits generation",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#contract-interfaces-and-traits-generation",children:e.jsx(i.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsxs(i.p,{children:["Contract interfaces define the structure and behavior of a contract, serving as the contract's public ABI. They list all the function signatures that a contract exposes. For a detailed explanation of interfaces, you can refer to the ",e.jsx(i.a,{href:"https://book.cairo-lang.org/ch99-01-02-a-simple-contract.html",children:"Cairo Book"}),"."]}),`
`,e.jsxs(i.p,{children:["In cairo, to specify the interface you need to define a trait annotated with ",e.jsx(i.code,{children:"#[starknet::interface]"})," and then implement that trait in the contract."]}),`
`,e.jsxs(i.p,{children:["When a function needs to access the contract state, it must have a ",e.jsx(i.code,{children:"self"})," parameter of type ",e.jsx(i.code,{children:"ContractState"}),". This implies that the corresponding function signature in the interface trait must also take a ",e.jsx(i.code,{children:"TContractState"})," type as a parameter. It's important to note that every function in the contract interface must have this ",e.jsx(i.code,{children:"self"})," parameter of type ",e.jsx(i.code,{children:"TContractState"}),"."]}),`
`,e.jsxs(i.p,{children:["You can use the ",e.jsx(i.code,{children:"#[generate_trait]"})," attribute to implicitly generate the trait for a specific implementation block. This attribute automatically generates a trait with the same functions as the ones in the implemented block, replacing the ",e.jsx(i.code,{children:"self"})," parameter with a generic ",e.jsx(i.code,{children:"TContractState"})," parameter. However, you will need to annotate the block with the ",e.jsx(i.code,{children:"#[abi(per_item)]"})," attribute, and each function with the appropriate attribute depending on whether it's an external function, a constructor or a l1 handler."]}),`
`,e.jsx(i.p,{children:"In summary, there's two ways to handle interfaces:"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:["Explicitly, by defining a trait annoted with ",e.jsx(i.code,{children:"#[starknet::interface]"})]}),`
`,e.jsxs(i.li,{children:["Implicitly, by using ",e.jsx(i.code,{children:"#[generate_trait]"})," combined with the ",e.jsx(i.code,{children:"#[abi(per_item)]"})," attributes, and annotating each function inside the implementation block with the appropriate attribute."]}),`
`]}),`
`,e.jsxs(i.h2,{id:"explicit-interface",children:["Explicit interface",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#explicit-interface",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(i.code,{children:e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{{#rustdoc_include "}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"../../../"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"listings"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"getting"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"-"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"started"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"interfaces_traits"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"src"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"explicit"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"cairo"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"contract}}"})]})})}),`
`,e.jsxs(i.h2,{id:"implicit-interface",children:["Implicit interface",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#implicit-interface",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(i.code,{children:e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{{#rustdoc_include "}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"../../../"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"listings"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"getting"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"-"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"started"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"interfaces_traits"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"src"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"implicit"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"cairo"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"contract}}"})]})})}),`
`,e.jsxs(i.blockquote,{children:[`
`,e.jsxs(i.p,{children:["Note: You can import an implicitly generated contract interface with ",e.jsx(i.code,{children:"use contract::{GeneratedContractInterface}"}),". However, the ",e.jsx(i.code,{children:"Dispatcher"})," will not be generated automatically."]}),`
`]}),`
`,e.jsxs(i.h2,{id:"internal-functions",children:["Internal functions",e.jsx(i.a,{"aria-hidden":"true",tabIndex:"-1",href:"#internal-functions",children:e.jsx(i.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(i.p,{children:["You can also use ",e.jsx(i.code,{children:"#[generate_trait]"}),` for your internal functions.
Since this trait is generated in the context of the contract, you can define pure functions as well (functions without the `,e.jsx(i.code,{children:"self"})," parameter)."]}),`
`,e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(i.code,{children:e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"{{#rustdoc_include "}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"../../../"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"listings"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"getting"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"-"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"started"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"interfaces_traits"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"src"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"/"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"implicit_internal"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"."}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"cairo"}),e.jsx(i.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:":"}),e.jsx(i.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"contract}}"})]})})})]})}function c(t={}){const{wrapper:i}={...n(),...t.components};return i?e.jsx(i,{...t,children:e.jsx(s,{...t})}):s(t)}export{c as default,a as frontmatter};
